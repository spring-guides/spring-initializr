<!DOCTYPE html>
<html lang="en">
<head>
    <title>Spring Initializr</title>
    <link href="//fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/bootstrap-theme.min.css"/>
    <link rel="stylesheet" href="/css/spring.css"/>
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container-fluid">

    <div class="row">
        <div class="initializr-header">
            <div class="container">
                <h1>Spring Initializr</h1>
                <p>Bootstrap your application now</p>
            </div>
            <a href="https://github.com/spring-io/initializr" target="_blank">
                <img style="position: absolute; top: 0; right: 0; border: 0;"
                     src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67"
                     alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png">
            </a>
        </div>
    </div>
    <form id="form" class="form-horizontal" action="/starter.zip" method="get" role="form">
        <input id="baseDir" name="baseDir" type="hidden" value="${defaults.artifactId}">
        <div class="row">
            <div class="col-sm-6">
                <h3>Project metadata</h3>
                <div class="form-group">
                    <label for="groupId" class="col-md-3 control-label">Group</label>
                    <div class="col-md-8">
                        <input id="groupId" class="form-control" type="text" value="${defaults.groupId}" name="groupId">
                    </div>
                </div>
                <div class="form-group">
                    <label for="artifactId" class="col-md-3 control-label">Artifact</label>
                    <div class="col-md-8">
                        <input id="artifactId" class="form-control" type="text" value="${defaults.artifactId}" name="artifactId">
                    </div>
                </div>
                <div class="form-group">
                    <label for="name" class="col-md-3 control-label">Name</label>
                    <div class="col-md-8">
                        <input id="name" class="form-control" type="text" value="${defaults.name}" name="name">
                    </div>
                </div>
                <div class="form-group">
                    <label for="description" class="col-md-3 control-label">Description</label>
                    <div class="col-md-8">
                        <input id="description" class="form-control" type="text" value="${defaults.description}" name="description">
                    </div>
                </div>
                <div class="form-group">
                    <label for="packageName" class="col-md-3 control-label">Package Name</label>
                    <div class="col-md-8">
                        <input id="packageName" class="form-control" type="text" value="${defaults.packageName}" name="packageName">
                    </div>
                </div>
                <div class="form-group">
                    <label for="type" class="col-md-3 control-label">Type</label>
                    <div class="col-md-8">
                        <select class="form-control" id="type" name="type">
                            <% types.each { %>
                            <option data-action="${it.action}" value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                            <% } %>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="packaging" class="col-md-3 control-label">Packaging</label>
                    <div class="col-md-8">
                    <select class="form-control" id="packaging" name="packaging">
                        <% packagings.each { %>
                        <option value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                        <% } %>
                    </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="javaVersion" class="col-md-3 control-label">Java Version</label>
                    <div class="col-md-8">
                        <select class="form-control" name="javaVersion" id="javaVersion">
                            <% javaVersions.each { %>
                            <option value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                            <% } %>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="language" class="col-md-3 control-label">Language</label>
                    <div class="col-md-8">
                        <select class="form-control" name="language" id="language">
                            <% languages.each { %>
                            <option value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                            <% } %>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="bootVersion" class="col-md-3 control-label">Spring Boot Version</label>
                    <div class="col-md-8">
                        <select class="form-control" name="bootVersion" id="bootVersion">
                            <% bootVersions.each { %>
                            <option value="${it.id}" ${it.default==true ? ' selected' : ''}>${it.name}</option>
                            <% } %>
                        </select>
                    </div>
                </div>
            </div>
            <div id="dependencies" class="col-sm-6">
                <h3>Project dependencies</h3>
                <% dependencies.each { %>
                <div class="form-group col-xs-6">
                <h4>${it.name}</h4>
                    <% it.content.each { %>
                    <div class="checkbox" data-range="1.2.1.RELEASE">
                        <label>
                            <input type="checkbox" name="style" value="${it.id}">
                            ${it.name}
                        </label>
                    </div><% } %>
                </div>
                <% } %>
            </div>
        </div>
        <div class="row">
            <p class="text-center">
                <button name="generate-project" type="submit" class="btn btn-lg btn-primary" role="button">
                    <span class="glyphicon glyphicon-download"></span> Generate Project
                </button>
            </p>
        </div>
        <div class="page-header top10">
            <h1>Spring CLI <small>Quickly prototype with Spring</small></h1>
        </div>
        <div class="row">
            <div class="col-sm-offset-1 col-sm-5">
                <h3>Spring CLI Zip</h3>
                <p>
                    <a href="/spring.zip" class="btn btn-lg btn-primary" role="button">
                        <span class="glyphicon glyphicon-download-alt"></span> Download Spring CLI Zip
                    </a>
                </p>
                <p>
                    Download the spring CLI as a zip distribution (unpack and run bin/spring on a command line).
                </p>
            </div>
            <div class="col-sm-5">
                <h3>Spring CLI Installer</h3>
                <p>
                    <a href="/install.sh" class="btn btn-lg btn-primary" role="button">
                        <span class="glyphicon glyphicon-download-alt"></span> Download Spring Installer
                    </a>
                </p>
                <p>Installer for the spring CLI command on Un*x-like system (should work on Linux, Mac or Cygwin).</p>
                <p>You can <kbd class="curl">curl http://start.spring.io/install.sh | sh</kbd>, or download the script and run it.</p>
            </div>
        </div>
    </form>
</div>
<script src="/js/zepto.min.js"></script>
<script src="/js/start.js"></script>
<script>
    var refreshDependencies = function(versionRange) {
        var versions = new Versions();
        \$("#dependencies div.checkbox").forEach(function(item) {
            if(!\$(item).data('range') || versions.matchRange(\$(item).data('range'))(versionRange)) {
                \$(item).show();
            } else {
                \$(item).hide().find("input[type=checkbox]").forEach(function(item){item.checked=false})
            }
        });
    };
    refreshDependencies(\$("#bootVersion").attr('value'));
    \$("#type").on('change', function() {\$("#form").attr('action', \$(this.options[this.selectedIndex]).data('action'))});
    \$("#artifactId").on('change', function() {\$("#baseDir").attr('value', this.value)});
    \$("#bootVersion").on("change", function(e){refreshDependencies(this.value);});
</script>
</body>
</html>
